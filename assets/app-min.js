const grid=document.querySelector("#grid .grid"),clueGrid=document.querySelector("#clue-grid"),small=document.querySelector("#small"),generateBtn=document.querySelector("#generate"),sizeObj={small:25};grid.addEventListener("click",(function(e){e.target.classList.toggle("fill")})),generateBtn.addEventListener("click",(function(e){clearPuzzle(),buildPuzzle("small"),e.preventDefault()}));const generateGrid=function(e){grid.classList="grid "+e,grid.innerHTML="";for(var l=0;l<sizeObj[e];l++)grid.innerHTML+="<div></div>"};generateGrid("small");const buildPuzzle=function(e){const l=Array.from(document.querySelectorAll("#grid .grid div"));let t;"small"===e?t=5:console.error("Error: Invalid puzzle size.");let n,r=[],c=[];for(let e=0;e<t;e++)r[e]=[],c[e]=[];for(let e=0;e<l.length;e++)n=Math.floor(e/t),r[n][e-n*t]=l[e].classList.contains("fill"),c[e-n*t][n]=l[e].classList.contains("fill");let i="";for(let e=0;e<r.length;e++)i+=`<span class="cr${e+1} r">`+calculateClues(r,e)+"</span>";for(let e=0;e<c.length;e++)i+=`<span class="cc${e+1} c">`+calculateClues(c,e)+"</span>";const s=document.createElement("div");s.classList.add("clue-grid"),s.classList.add("small"),s.innerHTML=i;var a=grid.cloneNode(!0);a.removeAttribute("id");document.querySelector("#clue-grid section"),document.createElement("div");s.appendChild(a),clueGrid.appendChild(s)},clearPuzzle=function(){clueGrid.innerHTML=""},calculateClues=function(e,l){let t="",n=0,r=[];for(let l=0;l<e.length;l++)r[l]=[];for(let c=0;c<e[l].length;c++)e[l][c]?n++:n>0&&(r[l].push(n),t+=`<span>${n}</span>`,n=0),c===e[l].length-1&&n>0&&(r[l].push(n),t+=`<span>${n}</span>`,n=0);return 0===r[l].length&&(t+=`<span>${n}</span>`),t};